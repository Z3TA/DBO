<!DOCTYPE html>
<html lang="en">
<head>
</head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<title>DBO: Persistent data abstraction modulel</title>

	<meta name="description" content="DBO: Persistent data abstraction module for Node.JS">

	<meta name="keywords" content="javascript, nodejs, Persistent data, database abstraction, nosql">

	<link rel="stylesheet" type="text/css"  href="doc/design1/style.css">

	<link rel="stylesheet" type="text/css" href="doc/design1/style.css">
	<link rel="stylesheet" type="text/css" href="doc/prettify/prettify.css">
	
	<script type="text/javascript" src="doc/prettify/prettify.js"></script>

</head>

<body onload="prettyPrint()">

<div id="container">

<p>test</p>

<h1>DBO: Persistent data abstraction module for Node.JS</h1>

<p>Your DBA guy will be happy you'll be using a SQL relational database, and your JS hackers will be happy about using no-SQL. And you will be happy about getting the advantage of both!</p>

<p>This module for nodejs/iojs makes it easier to manage data and make data persistent between app restarts.</p>

<p>Database selects, updates and inserts will be done automatically! </p>

<p>An object oriented approach is not required but recommended.<br>
Constructor functions can be passed and objects will be constructed automatically. Getters and setters work like normal, with the added benefits of the data being persistent and stored in a database, and on a hard drive, but accessed from memory. Data is updated immediately and sent to the database asynchronously in the background.</p>

<p>Note that, in order for this module to work, you must have access to a mySQL database and you have to create the database schema! This module will not ALTER TABLE or CREATE TABLE.</p>

<p>It (currently) only works with mySQL databases.</p>

<p>Here's a JavaScript example of how you might use this module:</p>

<pre class="prettyprint">
var Player = function() {
}
Player.prototype.takeDamage = function(damage) {
	this.data.health -= damage;
};

var Weapon = function() {
}
Weapon.prototype.fireAt(otherPlayer) {
	otherPlayer.takeDamage(this.damage);
}

var DBO = require("dbo");

DBO.connect({host: "127.0.0.1",	user: "nodedeamon", password : "12345", database: "ultrashooter"});


// Load data
var players = new DBO.List({table: "players", fun: Player, key: "name"});
var weapons = new DBO.List({table: "weapons", fun: Weapon, key: "id"});

// Link weapons to the players
players.link({list: weapons, key: "player_name"});

// Update something
players["Arnold"].data.age = 65;

// Insert another player
players.add({name: "Napoleon", age: 45});

// What weapons does Arnold have?
var player = players["Arnold"],
	weapon;
for(var id in player.weapons) {
	weapon = player.weapons[id];
	console.log(weapon.data.name + " with " + weapon.data.damage + " damage");
}

// Fire that weapon
weapon.fireAt(players["Napoleon"]);
</pre>

<p>You only have to remember one function (DBO.List) to make your data persistent.</p>

<p>The "data" will always be under .data, stored as an associative array with key, value pairs. We choose to have all "data" under a data attribute to make sure other attributes or functions are not overwritten.</p>

<p>Make sure you use unique identifiers (primary keys) like name, or id (with auto-increment) when you design the database schema!</p>

<p>See the <a href="doc/index.htm">documentation</a> for more info.</p>



</body>
</html>
